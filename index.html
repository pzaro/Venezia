<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î’ÎµÎ½ÎµÏ„Î¯Î± 12-17 Î™Î±Î½</title>
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background: #f4f4f9; margin: 0; padding-bottom: 40px; }
        .header { background: #fff; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); padding: 10px 0; }
        h1 { text-align: center; color: #b71c1c; margin: 5px 0; font-size: 1.2rem; }
        
        /* Scrollable Filters */
        .scroll-container { display: flex; overflow-x: auto; gap: 8px; padding: 5px 10px; scrollbar-width: none; }
        .scroll-container::-webkit-scrollbar { display: none; }
        
        .btn-filter { flex: 0 0 auto; padding: 8px 16px; border-radius: 20px; border: 1px solid #ddd; background: #fff; font-size: 0.9rem; cursor: pointer; }
        .btn-filter.active { background: #b71c1c; color: white; border-color: #b71c1c; }
        
        .date-filter { border-color: #2c3e50; color: #2c3e50; font-weight: bold; }
        .date-filter.active { background: #2c3e50; color: white; }

        .container { max-width: 600px; margin: 0 auto; padding: 10px; }
        .card { background: white; border-radius: 10px; padding: 15px; margin-bottom: 15px; border-left: 4px solid #b71c1c; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .category { font-size: 0.75rem; color: #777; text-transform: uppercase; }
        .name { font-size: 1.2rem; font-weight: bold; margin: 5px 0; color: #333; }
        .meta { display: flex; justify-content: space-between; font-size: 0.9rem; margin-top: 5px; color: #00695c; font-weight: 600; }
        .tip { background: #fff8e1; color: #f57f17; padding: 8px; border-radius: 5px; font-size: 0.9rem; margin-top: 10px; font-style: italic; }
        .map-btn { display: block; text-align: center; background: #b71c1c; color: white; text-decoration: none; padding: 10px; margin-top: 10px; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>

<div class="header">
    <h1>ğŸ‡®ğŸ‡¹ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î’ÎµÎ½ÎµÏ„Î¯Î±Ï‚</h1>
    
    <div class="scroll-container" style="margin-bottom: 5px; border-bottom: 1px solid #eee; padding-bottom: 10px;">
        <button class="btn-filter date-filter active" onclick="filterData('day', 0)">ÎŒÎ»Î±</button>
        <button class="btn-filter date-filter" onclick="filterData('day', 1)">Î”ÎµÏ… 12/1</button>
        <button class="btn-filter date-filter" onclick="filterData('day', 2)">Î¤ÏÎ¹ 13/1</button>
        <button class="btn-filter date-filter" onclick="filterData('day', 3)">Î¤ÎµÏ„ 14/1</button>
        <button class="btn-filter date-filter" onclick="filterData('day', 4)">Î ÎµÎ¼ 15/1</button>
        <button class="btn-filter date-filter" onclick="filterData('day', 5)">Î Î±Ï 16/1</button>
        <button class="btn-filter date-filter" onclick="filterData('day', 6)">Î£Î±Î² 17/1</button>
    </div>

    <div class="scroll-container">
        <button class="btn-filter active" onclick="filterData('cat', 'all')">ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚</button>
        <button class="btn-filter" onclick="filterData('cat', 'sights')">ğŸ›ï¸ Î‘Î¾Î¹Î¿Î¸Î­Î±Ï„Î±</button>
        <button class="btn-filter" onclick="filterData('cat', 'food')">ğŸ• Î¦Î±Î³Î·Ï„ÏŒ</button>
        <button class="btn-filter" onclick="filterData('cat', 'drink')">ğŸ· Î Î¿Ï„ÏŒ</button>
    </div>
</div>

<div class="container" id="content"></div>

<script>
    let allData = [];
    let currentDay = 0; // 0 = ÎŒÎ»Î±
    let currentCat = 'all';

    fetch('locations.json')
        .then(res => res.json())
        .then(data => { allData = data; render(); });

    function filterData(type, value) {
        if (type === 'day') {
            currentDay = value;
            // Update UI buttons for Day
            document.querySelectorAll('.date-filter').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        } else {
            currentCat = value;
            // Update UI buttons for Category
            document.querySelectorAll('.btn-filter:not(.date-filter)').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }
        render();
    }

    function render() {
        const container = document.getElementById('content');
        container.innerHTML = '';

        const filtered = allData.filter(item => {
            // Î¦Î¯Î»Ï„ÏÎ¿ Î—Î¼Î­ÏÎ±Ï‚ (Î‘Î½ ÎµÎ¯Î½Î±Î¹ 0 Ï„Î± Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ ÏŒÎ»Î±, Î±Î»Î»Î¹ÏÏ‚ ÏˆÎ¬Ï‡Î½ÎµÎ¹ Î±Î½ Î· Î¼Î­ÏÎ± Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÏƒÏ„Î· Î»Î¯ÏƒÏ„Î± days)
            const dayMatch = currentDay === 0 || (item.days && item.days.includes(currentDay));
            
            // Î¦Î¯Î»Ï„ÏÎ¿ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚
            let catMatch = true;
            const c = item.category.toLowerCase();
            if (currentCat === 'sights') catMatch = c.includes('Î±Î¾Î¹Î¿Î¸ÎµÎ±Ï„Î±') || c.includes('Î½Î·ÏƒÎ¹Î¬');
            if (currentCat === 'food') catMatch = c.includes('Ï†Î±Î³Î·Ï„Î¿') || c.includes('ÎµÏƒÏ„Î¹Î±Ï„Î¿ÏÎ¹Î±');
            if (currentCat === 'drink') catMatch = c.includes('Ï€Î¿Ï„Î¿') || c.includes('ÎºÎ±Ï†ÎµÏ‚');

            return dayMatch && catMatch;
        });

        if (filtered.length === 0) {
            container.innerHTML = '<div style="text-align:center; padding:20px;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Ï€ÏÎ¿Ï„Î¬ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î·Î½ ÎµÏ€Î¹Î»Î¿Î³Î®.</div>';
            return;
        }

        filtered.forEach(item => {
            container.innerHTML += `
                <div class="card">
                    <div class="category">${item.category}</div>
                    <div class="name">${item.name}</div>
                    <div class="meta">
                        <span>ğŸ’° ${item.cost}</span>
                    </div>
                    <div class="tip">ğŸ’¡ ${item.tip}</div>
                    <a href="${item.mapUrl}" target="_blank" class="map-btn">ğŸ“ Î§Î¬ÏÏ„Î·Ï‚</a>
                </div>
            `;
        });
    }
</script>

</body>
</html>
