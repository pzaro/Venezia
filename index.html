<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î’ÎµÎ½ÎµÏ„Î¯Î±: Dousis Guide</title>
    <style>
        /* CSS STYLES */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f4f4f9; color: #333; margin: 0; padding-bottom: 60px; }
        
        .header { background: white; position: sticky; top: 0; z-index: 900; box-shadow: 0 4px 6px rgba(0,0,0,0.05); padding: 10px 0; }
        h1 { text-align: center; color: #b71c1c; margin: 5px 0; font-size: 1.3rem; }
        
        .filters-wrapper { display: flex; flex-direction: column; gap: 8px; }
        .scroll-container { display: flex; overflow-x: auto; gap: 8px; padding: 0 15px; scrollbar-width: none; -webkit-overflow-scrolling: touch; }
        .scroll-container::-webkit-scrollbar { display: none; }
        
        .btn-filter { flex: 0 0 auto; padding: 8px 15px; border-radius: 20px; border: 1px solid #ddd; background: #f9f9f9; font-size: 0.85rem; color: #555; cursor: pointer; }
        .btn-filter.active { background: #b71c1c; color: white; border-color: #b71c1c; }
        .date-btn.active { background: #2c3e50; border-color: #2c3e50; }

        .container { max-width: 600px; margin: 0 auto; padding: 15px; }
        .card { background: white; border-radius: 12px; padding: 15px; margin-bottom: 15px; border-left: 5px solid #b71c1c; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        .category-tag { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: #b71c1c; }
        .name { font-size: 1.2rem; font-weight: 800; margin: 5px 0; color: #222; }
        
        /* ÎÎ•ÎŸ Î£Î¤Î¥Î› Î“Î™Î‘ Î‘Î ÎŸÎ£Î¤Î‘Î£Î— */
        .distance-tag { font-size: 0.9rem; color: #555; font-weight: normal; display: block; margin-bottom: 5px; }
        
        .meta-info { display: flex; gap: 10px; margin-top: 8px; font-size: 0.9rem; }
        .time-badge { background: #333; color: white; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; }
        .cost-badge { background: #e0f2f1; color: #00695c; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; }
        
        .tip { background: #fff8e1; color: #f57f17; padding: 8px; border-radius: 6px; margin-top: 10px; font-style: italic; font-size: 0.9rem; border-left: 3px solid #ffca28; }

        .card-actions { display: flex; gap: 10px; margin-top: 12px; }
        .action-btn { flex: 1; padding: 10px; border-radius: 8px; text-align: center; font-weight: bold; text-decoration: none; font-size: 0.9rem; cursor: pointer; border: none; }
        .map-btn { background: white; color: #b71c1c; border: 2px solid #b71c1c; }
        .info-btn { background: #b71c1c; color: white; display: flex; align-items: center; justify-content: center; gap: 5px; }

        /* MODAL */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 2000; align-items: flex-end; justify-content: center; }
        .modal-content { background: white; width: 100%; max-width: 600px; border-radius: 20px 20px 0 0; padding: 25px; max-height: 85vh; overflow-y: auto; animation: slideUp 0.3s ease-out; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .modal-title { font-size: 1.4rem; font-weight: bold; color: #b71c1c; margin: 0; }
        .close-btn { background: none; border: none; font-size: 2rem; color: #888; cursor: pointer; }
        .modal-body { font-size: 1rem; line-height: 1.6; color: #444; white-space: pre-line; }
        .audio-controls { margin-top: 20px; display: flex; gap: 10px; border-top: 1px solid #eee; padding-top: 15px; }
        .speak-btn { background: #2c3e50; color: white; }
        .stop-btn { background: #e74c3c; color: white; display: none; }
        
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="header">
        <h1>ğŸ‡®ğŸ‡¹ Venice: Digital Guide</h1>
        <div class="filters-wrapper">
            <div class="scroll-container">
                <button class="btn-filter date-btn active" onclick="filterData('day', 0)">ÎŒÎ»Î±</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 1)">Î”ÎµÏ… 12/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 2)">Î¤ÏÎ¹ 13/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 3)">Î¤ÎµÏ„ 14/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 4)">Î ÎµÎ¼ 15/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 5)">Î Î±Ï 16/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 6)">Î£Î±Î² 17/1</button>
            </div>
            <div class="scroll-container">
                <button class="btn-filter active" onclick="filterData('cat', 'all')">ÎŒÎ»Î±</button>
                <button class="btn-filter" onclick="filterData('cat', 'Ï€ÏÏ‰Î¹')">ğŸŒ… Î ÏÏ‰Î¯</button>
                <button class="btn-filter" onclick="filterData('cat', 'Î¼ÎµÏƒÎ·Î¼ÎµÏÎ¹')">ğŸ¥ª ÎœÎµÏƒÎ·Î¼Î­ÏÎ¹</button>
                <button class="btn-filter" onclick="filterData('cat', 'Î²ÏÎ±Î´Ï…')">ğŸ· Î’ÏÎ¬Î´Ï…</button>
            </div>
        </div>
    </div>

    <div class="container" id="content"></div>

    <div id="infoModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2 id="modalTitle" class="modal-title"></h2>
                <button class="close-btn" onclick="closeModal()">Ã—</button>
            </div>
            <div id="modalBody" class="modal-body"></div>
            <div class="audio-controls">
                <button id="speakBtn" class="action-btn speak-btn" onclick="startSpeaking()">ğŸ”Š Î‘ÎºÏÏŒÎ±ÏƒÎ·</button>
                <button id="stopBtn" class="action-btn stop-btn" onclick="stopSpeaking()">â¹ï¸ Stop</button>
            </div>
        </div>
    </div>

    <script>
        let allData = [];
        let currentDisplayData = [];
        let currentDay = 0;
        let currentCat = 'all';
        let currentTextToSpeak = "";
        const synth = window.speechSynthesis;

        fetch('locations.json')
            .then(res => res.json())
            .then(data => { allData = data; render(); })
            .catch(err => console.error("Error:", err));

        function filterData(type, value) {
            if (type === 'day') {
                currentDay = value;
                document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
            } else {
                currentCat = value;
                document.querySelectorAll('.btn-filter:not(.date-btn)').forEach(b => b.classList.remove('active'));
            }
            event.target.classList.add('active');
            render();
        }

        function render() {
            const container = document.getElementById('content');
            container.innerHTML = '';

            currentDisplayData = allData.filter(item => {
                const dayMatch = currentDay === 0 || (item.days && item.days.includes(currentDay));
                let catMatch = true;
                if (currentCat !== 'all') catMatch = item.category.toLowerCase().includes(currentCat);
                return dayMatch && catMatch;
            });

            if (currentDisplayData.length === 0) {
                container.innerHTML = '<div style="text-align:center; padding:20px; color:#777;">ÎšÎ±Î½Î­Î½Î± Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î±.</div>';
                return;
            }

            currentDisplayData.forEach((item, index) => {
                // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ·Ï‚ (Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
                const distanceHtml = item.distance ? `<span class="distance-tag">ğŸ‘£ Î‘Ï€ÏŒ Pesaro: <b>${item.distance}</b></span>` : '';

                container.innerHTML += `
                    <div class="card">
                        <div class="category-tag">${item.category}</div>
                        <div class="name">${item.name}</div>
                        ${distanceHtml}
                        <div class="meta-info">
                            <span class="time-badge">ğŸ•’ ${item.time || '-'}</span>
                            <span class="cost-badge">ğŸ’° ${item.cost}</span>
                        </div>
                        <div class="tip">ğŸ’¡ ${item.tip}</div>
                        <div class="card-actions">
                            <button class="action-btn info-btn" onclick="openModal(${index})">â„¹ï¸ Info</button>
                            <a href="${item.mapUrl}" target="_blank" class="action-btn map-btn">ğŸ“ Î§Î¬ÏÏ„Î·Ï‚</a>
                        </div>
                    </div>
                `;
            });
        }

        function openModal(index) {
            const item = currentDisplayData[index];
            if (!item) return;
            document.getElementById('modalTitle').innerText = item.name;
            document.getElementById('modalBody').innerText = item.description || item.tip;
            currentTextToSpeak = item.description || item.tip;
            document.getElementById('infoModal').style.display = 'flex';
            stopSpeaking();
        }

        function closeModal() {
            document.getElementById('infoModal').style.display = 'none';
            stopSpeaking();
        }

        function startSpeaking() {
            if (synth.speaking) return;
            if (currentTextToSpeak) {
                const utterThis = new SpeechSynthesisUtterance(currentTextToSpeak);
                utterThis.lang = 'el-GR';
                utterThis.rate = 0.9;
                utterThis.onend = () => toggleAudioButtons(false);
                synth.speak(utterThis);
                toggleAudioButtons(true);
            }
        }

        function stopSpeaking() {
            if (synth.speaking) synth.cancel();
            toggleAudioButtons(false);
        }

        function toggleAudioButtons(isSpeaking) {
            document.getElementById('speakBtn').style.display = isSpeaking ? 'none' : 'inline-block';
            document.getElementById('stopBtn').style.display = isSpeaking ? 'inline-block' : 'none';
        }
    </script>
<div style="margin-top: 30px; padding: 20px; background-color: #f0f8ff; border-top: 2px solid #007bff; font-family: sans-serif;">
    <h2 style="color: #0056b3;">ğŸš† ÎœÎµÏ„Î±Ï†Î¿ÏÎ­Ï‚ & Î©ÏÎ¬ÏÎ¹Î±</h2>
    
    <div id="transport-data">
        </div>

    <script>
        // ÎŸÎ›ÎŸÎšÎ›Î—Î¡Î©ÎœÎ•ÎÎ‘ Î”Î•Î”ÎŸÎœÎ•ÎÎ‘ ÎœÎ•Î¤Î‘Î¦ÎŸÎ¡Î©Î (Î©Î¡Î‘Î¡Î™Î‘ + Î£Î¤Î‘Î£Î•Î™Î£)
        const transportSchedule = {
            atvo_treviso: {
                title: "âœˆï¸ BUS: Treviso Airport (ATVO)",
                desc: "Express Line 351: Treviso â†” Venice (P.le Roma)",
                sos: "Î¤Î¿ Î»ÎµÏ‰Ï†Î¿ÏÎµÎ¯Î¿ Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÎ¹ Ï„Î·Î½ Ï€Ï„Î®ÏƒÎ· Î±Î½ Î±ÏÎ³Î®ÏƒÎµÎ¹.",
                isTable: true, 
                headers: ["Î‘Ï€ÏŒ Î‘ÎµÏÎ¿Î´ÏÏŒÎ¼Î¹Î¿ (Î ÏÎ¿Ï‚ Î’ÎµÎ½ÎµÏ„Î¯Î±)", "Î‘Ï€ÏŒ Î’ÎµÎ½ÎµÏ„Î¯Î± (Î ÏÎ¿Ï‚ Î‘ÎµÏÎ¿Î´ÏÏŒÎ¼Î¹Î¿)"],
                col1: ["08:00", "08:30", "09:00", "09:40", "10:20", "11:00", "11:40", "12:20", "13:00", "13:40", "14:20", "15:00", "15:40", "16:20", "17:00", "17:40", "18:20", "19:00", "19:40", "20:20", "21:00", "21:50", "22:30", "23:15 (Last)"],
                col2: ["05:30", "06:00", "06:30", "07:00", "07:30", "08:00", "08:30", "09:00", "09:30", "10:00", "10:30", "11:00", "11:30", "12:00", "12:30", "13:00", "13:30", "14:00", "14:30", "15:00", "15:30", "16:00", "16:30", "17:00", "17:30", "18:00", "18:30", "19:00", "19:30"]
            },
            vaporetto_1: {
                title: "ğŸš¤ Vaporetto LINEA 1 (Î— Î“ÏÎ±Î¼Î¼Î® ÏƒÎ±Ï‚)",
                desc: "Î”Î¹Î±ÏƒÏ‡Î¯Î¶ÎµÎ¹ ÏŒÎ»Î¿ Ï„Î¿ Grand Canal. Î™Î´Î±Î½Î¹ÎºÎ® Î³Î¹Î± Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î±.",
                hours: "24 Î©ÏÎµÏ‚ (ÎšÎ¬Î¸Îµ 12' Ï„Î· Î¼Î­ÏÎ±)",
                sos: "Î— ÏƒÏ„Î¬ÏƒÎ· ÏƒÎ±Ï‚ ÎµÎ¯Î½Î±Î¹ Î· Ca' d'Oro.",
                isStops: true,
                stops: [
                    "P.le Roma (Î‘Ï†ÎµÏ„Î·ÏÎ¯Î±)", "Ferrovia (Î£Ï„Î±Î¸Î¼ÏŒÏ‚)", "Riva de Biasio", "S. Marcuola", "S. Stae", 
                    "ğŸ“ CA' D'ORO (ÎÎ•ÎÎŸÎ”ÎŸÎ§Î•Î™ÎŸ)", 
                    "Rialto Mercato", "ğŸŒ‰ RIALTO", "S. Silvestro", "S. Angelo", "S. TomÃ ", 
                    "Ca' Rezzonico", "Accademia", "S. Maria del Giglio", "Salute", 
                    "ğŸ¦ S. MARCO (Vallaresso)", "S. Zaccaria", "Arsenale", "Giardini", "S. Elena", "ğŸ–ï¸ Lido"
                ]
            },
            vaporetto_2: {
                title: "ğŸš¤ Vaporetto LINEA 2 (Express)",
                desc: "Î Î¹Î¿ Î³ÏÎ®Î³Î¿ÏÎ·, Ï€ÏÎ¿ÏƒÏ€ÎµÏÎ½Î¬ÎµÎ¹ ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚.",
                hours: "05:00 - 23:00 (ÎšÎ¬Î¸Îµ 12')",
                note: "Î”Î•Î ÏƒÏ„Î±Î¼Î±Ï„Î¬ÎµÎ¹ ÏƒÏ„Î¿ Î¾ÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿. Î§ÏÎ®ÏƒÎ¹Î¼Î· Î³Î¹Î± Î³ÏÎ®Î³Î¿ÏÎ· ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Î±Ï€ÏŒ Î†Î³Î¹Î¿ ÎœÎ¬ÏÎºÎ¿ ÏƒÎµ P.le Roma.",
                isStops: true,
                stops: [
                    "ğŸ¦ S. Zaccaria (Î†Î³Î¹Î¿Ï‚ ÎœÎ¬ÏÎºÎ¿Ï‚)", "S. Giorgio", "Zitelle", "Redentore", "Palanca", 
                    "Zattere", "S. Basilio", "Sacca Fisola", "Tronchetto", 
                    "P.le Roma", "Ferrovia", "ğŸŒ‰ Rialto"
                ]
            },
            vaporetto_12: {
                title: "ğŸï¸ Vaporetto LINEA 12 (ÎÎ·ÏƒÎ¹Î¬)",
                desc: "Î“Î¹Î± Murano, Burano, Torcello.",
                hours: "04:20 - 22:25",
                sos: "Î ÏÎ¿ÏƒÎ¿Ï‡Î®! Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Î±Ï€ÏŒ Burano ~22:00.",
                isStops: true,
                stops: [
                    "âš“ F.te Nove (Î‘Ï†ÎµÏ„Î·ÏÎ¯Î±)", "Murano Faro", "Mazzorbo", 
                    "ğŸŒˆ BURANO", "Torcello", "Treporti", "Punta Sabbioni"
                ]
            },
            vaporetto_N: {
                title: "ğŸŒ™ Vaporetto LINEA N (ÎÏ…Ï‡Ï„ÎµÏÎ¹Î½ÏŒ)",
                desc: "Î— Î¼Î¿Î½Î±Î´Î¹ÎºÎ® Î³ÏÎ±Î¼Î¼Î® Î¼ÎµÏ„Î¬ Ï„Î± Î¼ÎµÏƒÎ¬Î½Ï…Ï‡Ï„Î±.",
                hours: "23:30 - 05:00 (ÎšÎ¬Î¸Îµ 20-30')",
                note: "Î£Ï„Î±Î¼Î±Ï„Î¬ÎµÎ¹ ÏƒÎµ ÎŸÎ›Î•Î£ Ï„Î¹Ï‚ ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ Ï„Î·Ï‚ Î“ÏÎ±Î¼Î¼Î®Ï‚ 1 (ÎºÎ±Î¹ ÏƒÏ„Î¿ Ca' d'Oro).",
                stops: null 
            },
            train_verona: {
                title: "ğŸš… Î¤ÏÎ­Î½Î¿ Î³Î¹Î± Î’ÎµÏÏŒÎ½Î±",
                desc: "Venezia S. Lucia â†” Verona P. Nuova",
                regional: "Regionale Veloce: 10â‚¬ (1h 28m)",
                fast: "Frecciarossa: 20â‚¬-30â‚¬ (1h 12m)",
                sos: "Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î¿ Ï„ÏÎ­Î½Î¿ ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î®Ï‚ ~22:12."
            }
        };

        // Render Function
        const container = document.getElementById('transport-data');
        container.innerHTML = ''; 

        for (const key in transportSchedule) {
            const item = transportSchedule[key];
            const div = document.createElement('div');
            div.style.marginBottom = "15px";
            div.style.padding = "15px";
            div.style.backgroundColor = "white";
            div.style.borderRadius = "8px";
            div.style.borderLeft = "5px solid #0056b3";
            div.style.boxShadow = "0 2px 4px rgba(0,0,0,0.1)";
            
            let htmlContent = `<h3 style="margin: 0 0 5px 0; color: #333;">${item.title}</h3>`;
            htmlContent += `<p style="margin: 5px 0; color: #555;">${item.desc}</p>`;
            
            if (item.hours) htmlContent += `<p style="margin: 5px 0; color: darkgreen;">ğŸ•’ ${item.hours}</p>`;
            if (item.sos) htmlContent += `<p style="margin: 8px 0; color: #d32f2f; font-weight: bold; background: #ffebee; padding: 5px; border-radius: 4px;">âš ï¸ ${item.sos}</p>`;
            if (item.regional) htmlContent += `<p style="margin: 5px 0;">ğŸ« ${item.regional}</p>`;
            if (item.fast) htmlContent += `<p style="margin: 5px 0;">ğŸš„ ${item.fast}</p>`;
            if (item.note) htmlContent += `<p style="margin: 8px 0 0 0; font-style: italic; font-size: 0.9em; color: #666;">â„¹ï¸ ${item.note}</p>`;

            // Render Î Î¯Î½Î±ÎºÎ± (Î³Î¹Î± Î»ÎµÏ‰Ï†Î¿ÏÎµÎ¯Î¿)
            if (item.isTable) {
                htmlContent += `
                <div style="display: flex; gap: 10px; margin-top: 10px; font-size: 0.85em;">
                    <div style="flex: 1;">
                        <div style="font-weight: bold; background: #eee; padding: 5px; border-radius: 4px;">${item.headers[0]}</div>
                        <div style="background: #fafafa; padding: 5px; border: 1px solid #eee; height: 120px; overflow-y: auto;">
                            ${item.col1.join('<br>')}
                        </div>
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: bold; background: #eee; padding: 5px; border-radius: 4px;">${item.headers[1]}</div>
                        <div style="background: #fafafa; padding: 5px; border: 1px solid #eee; height: 120px; overflow-y: auto;">
                            ${item.col2.join('<br>')}
                        </div>
                    </div>
                </div>`;
            }

            // Render Î›Î¯ÏƒÏ„Î±Ï‚ Î£Ï„Î¬ÏƒÎµÏ‰Î½ (Î³Î¹Î± Î²Î±Ï€Î¿ÏÎ­Ï„Î±)
            if (item.isStops && item.stops) {
                htmlContent += `
                <div style="margin-top: 10px;">
                    <div style="font-weight: bold; font-size: 0.9em; margin-bottom: 5px;">ğŸš Î£Ï„Î¬ÏƒÎµÎ¹Ï‚ (Î¼Îµ Ï„Î· ÏƒÎµÎ¹ÏÎ¬):</div>
                    <div style="background: #f1f8e9; padding: 8px; border-radius: 6px; border: 1px solid #c5e1a5; height: 100px; overflow-y: auto; font-size: 0.85em; line-height: 1.6;">
                        ${item.stops.map((stop, i) => `${i + 1}. ${stop}`).join('<br>')}
                    </div>
                </div>`;
            }

            div.innerHTML = htmlContent;
            container.appendChild(div);
        }
    </script>
<script>
        // ... Ï„Î± script Î³Î¹Î± Ï„Î¿ modal ÎºÎ±Î¹ Ï„Î¿ speech ...
    </script>

    <div style="margin-top: 30px; padding: 20px; background-color: #f0f8ff; border-top: 2px solid #007bff; font-family: sans-serif;">
        
        <script>
            // ... Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± ...
        </script>
    </div>
    </body>
</html>
</html>





