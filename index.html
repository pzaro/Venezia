<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î’ÎµÎ½ÎµÏ„Î¯Î±: Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î”Î¿ÏÏƒÎ·</title>
    <style>
        /* Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background-color: #f4f4f9; 
            color: #333; 
            margin: 0; 
            padding-bottom: 50px; 
        }

        /* Î•Ï€Î¹ÎºÎµÏ†Î±Î»Î¯Î´Î± (Sticky) */
        .header { 
            background-color: #fff; 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
            padding: 10px 0; 
        }

        h1 { 
            text-align: center; 
            color: #b71c1c; 
            margin: 5px 0 10px 0; 
            font-size: 1.3rem; 
        }

        /* ÎœÏ€Î¬ÏÎµÏ‚ Î¦Î¯Î»Ï„ÏÏ‰Î½ (Scrollable) */
        .filters-wrapper {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding-bottom: 5px;
        }

        .scroll-container { 
            display: flex; 
            overflow-x: auto; 
            gap: 8px; 
            padding: 0 15px; 
            scrollbar-width: none; /* Firefox */
            -webkit-overflow-scrolling: touch;
        }
        .scroll-container::-webkit-scrollbar { display: none; } /* Chrome/Safari */
        
        /* ÎšÎ¿Ï…Î¼Ï€Î¹Î¬ */
        .btn-filter { 
            flex: 0 0 auto; 
            padding: 8px 16px; 
            border-radius: 20px; 
            border: 1px solid #ddd; 
            background: #f9f9f9; 
            font-size: 0.85rem; 
            font-weight: 600; 
            color: #555;
            cursor: pointer; 
            transition: all 0.2s;
        }

        /* Active States */
        .btn-filter.active { 
            background-color: #b71c1c; 
            color: white; 
            border-color: #b71c1c; 
            box-shadow: 0 2px 4px rgba(183, 28, 28, 0.3);
        }

        /* Î•Î¹Î´Î¹ÎºÏŒ ÏƒÏ„Ï…Î» Î³Î¹Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚ */
        .date-btn {
            border-color: #2c3e50;
            color: #2c3e50;
        }
        .date-btn.active {
            background-color: #2c3e50;
            color: white;
            border-color: #2c3e50;
        }

        /* Î›Î¯ÏƒÏ„Î± Î ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… */
        .container { 
            max-width: 600px; 
            margin: 0 auto; 
            padding: 15px; 
        }

        .card { 
            background: white; 
            border-radius: 12px; 
            padding: 15px; 
            margin-bottom: 15px; 
            border-left: 5px solid #b71c1c; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
            animation: fadeIn 0.3s ease-in;
        }

        .category-tag { 
            font-size: 0.75rem; 
            font-weight: 700;
            text-transform: uppercase; 
            color: #b71c1c; 
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        .name { 
            font-size: 1.2rem; 
            font-weight: 800; 
            margin: 5px 0; 
            color: #222; 
        }

        .meta-info {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 8px;
            font-size: 0.9rem;
        }

        .time-badge {
            background-color: #333;
            color: #fff;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
        }

        .cost-badge {
            color: #00695c;
            font-weight: 700;
            background-color: #e0f2f1;
            padding: 3px 8px;
            border-radius: 4px;
        }

        .tip { 
            background-color: #fff8e1; 
            color: #f57f17; 
            padding: 10px; 
            border-radius: 6px; 
            margin-top: 12px; 
            font-style: italic; 
            font-size: 0.9rem; 
            border-left: 3px solid #ffca28;
        }

        .map-btn { 
            display: block; 
            text-align: center; 
            background-color: white; 
            color: #b71c1c; 
            border: 2px solid #b71c1c;
            text-decoration: none; 
            padding: 10px; 
            margin-top: 12px; 
            border-radius: 8px; 
            font-weight: bold; 
            transition: background 0.2s;
        }
        .map-btn:hover {
            background-color: #b71c1c;
            color: white;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>ğŸ‡®ğŸ‡¹ Venice: The Dousis Way</h1>
        
        <div class="filters-wrapper">
            <div class="scroll-container">
                <button class="btn-filter date-btn active" onclick="filterData('day', 0)">ÎŒÎ»Î±</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 1)">Î”ÎµÏ… 12/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 2)">Î¤ÏÎ¹ 13/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 3)">Î¤ÎµÏ„ 14/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 4)">Î ÎµÎ¼ 15/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 5)">Î Î±Ï 16/1</button>
                <button class="btn-filter date-btn" onclick="filterData('day', 6)">Î£Î±Î² 17/1</button>
            </div>

            <div class="scroll-container">
                <button class="btn-filter active" onclick="filterData('cat', 'all')">ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎÏÎµÏ‚</button>
                <button class="btn-filter" onclick="filterData('cat', 'Ï€ÏÏ‰Î¹')">ğŸŒ… Î ÏÏ‰Î¯ (Sights)</button>
                <button class="btn-filter" onclick="filterData('cat', 'Î¼ÎµÏƒÎ·Î¼ÎµÏÎ¹')">ğŸ¥ª ÎœÎµÏƒÎ·Î¼Î­ÏÎ¹ (Street Food)</button>
                <button class="btn-filter" onclick="filterData('cat', 'Î²ÏÎ±Î´Ï…')">ğŸ· Î’ÏÎ¬Î´Ï… (Cannaregio)</button>
            </div>
        </div>
    </div>

    <div class="container" id="content">
        <div style="text-align:center; margin-top:20px; color:#666;">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½...</div>
    </div>

    <script>
        let allData = [];
        let currentDay = 0;   // 0 = ÎŒÎ»Î±
        let currentCat = 'all'; // all, Ï€ÏÏ‰Î¹, Î¼ÎµÏƒÎ·Î¼ÎµÏÎ¹, Î²ÏÎ±Î´Ï…

        // Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Î¿Ï… JSON
        fetch('locations.json')
            .then(res => res.json())
            .then(data => {
                allData = data;
                render();
            })
            .catch(err => {
                document.getElementById('content').innerHTML = 'Î£Ï†Î¬Î»Î¼Î±: Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ locations.json';
                console.error(err);
            });

        // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î¦Î¹Î»Ï„ÏÎ±ÏÎ¯ÏƒÎ¼Î±Ï„Î¿Ï‚
        function filterData(type, value) {
            if (type === 'day') {
                currentDay = value;
                // Update Date Buttons UI
                document.querySelectorAll('.date-btn').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
            } else {
                currentCat = value;
                // Update Category Buttons UI
                // Î•Ï€Î¹Î»Î­Î³Î¿Ï…Î¼Îµ ÏŒÎ»Î± Ï„Î± btn-filter Ï€Î¿Ï… Î”Î•Î ÎµÎ¯Î½Î±Î¹ date-btn
                document.querySelectorAll('.btn-filter:not(.date-btn)').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
            }
            render();
        }

        // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ·Ï‚
        function render() {
            const container = document.getElementById('content');
            container.innerHTML = '';

            const filtered = allData.filter(item => {
                // ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î—Î¼Î­ÏÎ±Ï‚
                const dayMatch = currentDay === 0 || (item.days && item.days.includes(currentDay));
                
                // ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚ (Î¨Î¬Ï‡Î½Î¿Ï…Î¼Îµ Î±Î½ Ï„Î¿ Ï€ÎµÎ´Î¯Î¿ category Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Ï„Î· Î»Î­Î¾Î· ÎºÎ»ÎµÎ¹Î´Î¯)
                let catMatch = true;
                if (currentCat !== 'all') {
                    // ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® ÏƒÎµ Ï€ÎµÎ¶Î¬ ÎºÎ±Î¹ Î±Ï†Î±Î¯ÏÎµÏƒÎ· Ï„ÏŒÎ½Ï‰Î½ Î³Î¹Î± ÏƒÎ¹Î³Î¿Ï…ÏÎ¹Î¬ (Î±Î½ Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯), ÎµÎ´Ï Î±Ï€Î»Î¬ ÏƒÏ…Î³ÎºÏÎ¯Î½Î¿Ï…Î¼Îµ strings
                    const itemCat = item.category.toLowerCase();
                    catMatch = itemCat.includes(currentCat); 
                }

                return dayMatch && catMatch;
            });

            if (filtered.length === 0) {
                container.innerHTML = '<div style="text-align:center; padding:20px; color:#777;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Ï€Î»Î¬Î½Î± Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î·Î½ ÎµÏ€Î¹Î»Î¿Î³Î®. ğŸ˜´</div>';
                return;
            }

            filtered.forEach(item => {
                container.innerHTML += `
                    <div class="card">
                        <div class="category-tag">${item.category}</div>
                        <div class="name">${item.name}</div>
                        
                        <div class="meta-info">
                            <span class="time-badge">ğŸ•’ ${item.time || 'N/A'}</span>
                            <span class="cost-badge">ğŸ’° ${item.cost}</span>
                        </div>

                        <div class="tip">ğŸ’¡ ${item.tip}</div>
                        <a href="${item.mapUrl}" target="_blank" class="map-btn">ğŸ“ Î†Î½Î¿Î¹Î³Î¼Î± ÏƒÏ„Î¿ Î§Î¬ÏÏ„Î·</a>
                    </div>
                `;
            });
        }
    </script>

</body>
</html>
